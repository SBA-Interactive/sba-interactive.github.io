import{aD as t,I as b,ax as f,ag as l,g as _,V as d,aE as p}from"./render.DAE2Sts3.js";function c(e,u,s){if(e==null)return u(void 0),t;const n=b(()=>e.subscribe(u,s));return n.unsubscribe?()=>n.unsubscribe():n}function g(e){let u;return c(e,s=>u=s)(),u}let r=!1,i=Symbol();function m(e,u,s){const n=s[u]??={store:null,source:l(void 0),unsubscribe:t};if(n.store!==e&&!(i in s))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=t;else{var a=!0;n.unsubscribe=c(e,o=>{a?n.source.v=o:d(n.source,o)}),a=!1}return e&&i in s?g(e):_(n.source)}function y(){const e={};function u(){f(()=>{for(var s in e)e[s].unsubscribe();p(e,i,{enumerable:!1,value:!0})})}return[e,u]}function x(e){var u=r;try{return r=!1,[e(),r]}finally{r=u}}export{m as a,x as c,y as s};
